{% extends "base.html" %}
{% block title %}{{ student.username }}的学习进度 - {{ course.title }}{% endblock %}
{% block content %}
{% if progress %}
<h2>{{ student.username }} - {{ course.title }} 学习进度</h2>
<table class="table">
    <thead>
        <tr>
            <th>视频观看百分比</th>
            <th>考试完成状态</th>
            <th>综合进度百分比</th>
            <th>更新时间</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>{{ video_watched_percentage }}%</td>
            <td>{{ '已完成' if exam_completed else '未完成' }}</td>
            <td>{{ progress_percentage }}%</td>
            <td>{{ updated_at if updated_at else '-' }}</td>
        </tr>
    </tbody>
</table>
<h3>考试完成状况</h3>
<table class="table">
    <thead>
        <tr>
            <th>考试名称</th>
            <th>完成状态</th>
        </tr>
    </thead>
    <tbody>
        {% for exam in course.exams %}
        <tr>
            <td>{{ exam.title }}</td>
            <td>
                {% if exam.id in finished_exam_ids %}
                    已完成
                {% else %}
                    未完成
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div class="card">
    <div class="card-body text-center">
        <i class="fa fa-info-circle text-4xl text-gray-300 mb-4"></i>
        <p class="text-gray-500">暂无学习进度数据</p>
    </div>
</div>
{% endif %}
<a href="{{ url_for('teacher_students_progress', course_id=course.id) }}" class="btn mt-4">返回学生进度列表</a>
{% endblock %}
